# Κατέβασμα εργασιών με το Git.

Σκοπός της άσκησης είναι η δημιουργία ενός bash script, το οποίο θα μπορεί να κα-
τεβάσει όλες τις εργασίες που θα παραδοθούν από εσάς και τους συναδέλφους σας στα
πλαίσια της παρούσας εργασίας. Έτσι, το script θα διαβάζει διευθύνσεις αποθετηρίων git,
από πολλαπλά αρχεία, θα κατεβάζει το περιεχόμενο των αποθετηρίων και θα ελέγχει αν οι
κατάλογοι και τα αρχεία που βρίσκονται σε κάθε ένα από τα αποθετήρια ακολουθούν την
απαραίτητη δομή. Για κάθε ένα από αυτά, το script θα πρέπει να παρουσιάζει αναφορά για
τα ευρήματά του. <br>

Περισσότερο συγκεκριμένα, υποθέστε ότι σας παρέχεται ένα συμπιεσμένο αρχείο, τύπου
.tar.gz. Μέσα σε αυτό το αρχείο, υπάρχει απροσδιόριστος αριθμός απλών αρχείων κειμένου,
(τύπου .txt). Θεωρήστε επίσης ότι τα αρχεία ενδέχεται να βρίσκονται σε απροσδιόριστους
καταλόγους μέσα στο συμπιεσμένο αρχείο, σε οποιοδήποτε βάθος. <br>

Ένα παράδειγμα της δομής των αρχείων μέσα στο συμπιεσμένο αρχείο .tar.gz θα μπορούσε να είναι το παρακάτω:
```
|- fileA .txt
|- fileB .txt
|- directoryA /
|- anotherfile .txt
|- notatxtfile .doc
|- anotherdirectory /
|- nesteddirectory /
| |- fileinnesteddir .txt
|- yetanotherfile .txt
...
```
<br>
Μέσα στο συμπιεσμένο αρχείο, ενδεχομένως υπάρχουν και άλλα αρχεία, διαφορετικού
τύπου από απλών αρχείων κειμένου (όπως το αρχείο notatxtfile.doc στο παραπάνω παρά-
δειγμα). Αυτά τα αρχεία θα πρέπει να τα αγνοείτε κατά την επεξεργασία σας. <br>
Κάθε αρχείο txt περιέχει τη διεύθυνση ενός αποθετηρίου git σε https μορφή, π.χ.: <br>

```
https :// github .com/ username /repo -name.git 
```
<br>
Αν υπάρχουν γραμμές οι οποίες ξεκινούν με τον χαρακτήρα #, να τις θεωρήσετε ως γραμ-
μές σχολίων και να τις απορρίψετε. Θα πρέπει να διαβάζετε και να επεξεργάζεστε μόνο τις
γραμμές που ξεκινούν με https, ενώ αν υπάρχουν πολλαπλές τέτοιες γραμμές σε κάποιο
αρχείο, θα πρέπει να χρησιμοποιείτε μόνο την πρώτη και να απορρίπτετε τις επόμενες. <br>

Για κάθε αποθετήριο git που εντοπίζετε στα αρχεία txt, θα πρέπει να το κλωνοποιήσετε
και να το τοποθετήσετε μέσα σε ένα κατάλογο με το όνομα assignments (τον οποίο κατάλογο
θα πρέπει να βεβαιωθείτε ότι υπάρχει ή έχετε δημιουργήσει). Για κάθε αποθετήριο, αν η
κλωνοποίησή του είναι επιτυχής, το script σας θα πρέπει να τυπώνει μια γραμμή στην τυπική
έξοδο (stdout) όπως η παρακάτω: <br>

```
https :// github .com/ username /repo -name.git: Cloning OK
```

<br>
ενώ αν για οποιοδήποτε λόγο αποτύχει η κλωνοποίησή του, θα πρέπει να τυπώνει στην έξοδο
σφαλμάτων (stderr), μια γραμμή όπως η παρακάτω: <br>

```
https :// github .com/ username /repo -name.git: Cloning FAILED
```
<br>
Οποιαδήποτε άλλη έξοδος δημιουργείται από την εκτέλεση της εντολής git ή οποιαδή-
ποτε άλλη, θα πρέπει να την απορρίπτετε. <br>
Σε οποιαδήποτε περίπτωση, αφού κλωνοποιηθούν όλα τα αποθετήρια, θα έχετε δημιουργήσει μια δομή καταλόγων που 
μοιάζει με την παρακάτω, χωρίς τα ονόματα των καταλόγων να είναι προφανώς τα ίδια: <br>

```
|- assignments /
|- repo1
|- repo2
|- repo3
...
```
<br>
Στη συνέχεια το script σας θα πρέπει να εξετάζει αν μέσα σε κάθε ένα από τα αποθετήρια
που κλωνοποιήσατε, η δομή των αρχείων είναι η απαιτούμενη. Αυτή για κάθε αποθετήριο θα
πρέπει να είναι ακριβώς η παρακάτω, με τα ονόματα των αρχείων και καταλόγων να είναι τα
ίδια με τα παρακάτω (τα οποία προφανώς δεν αντιστοιχούν ακριβώς με αυτά της παρούσας
εργασίας): <br>

```
|- dataA .txt
|- more/
|- dataB .txt
|- dataC .txt
```
<br>

Για κάθε αποθετήριο, το script σας θα πρέπει να τυπώνει συγκεντρωτικά αποτελέσματα
για τον αριθμό των καταλόγων και τον συνολικό αριθμό των αρχείων που περιέχει. Έτσι,
π.χ. αν υπάρχει ένα αποθετήριο με το όνομα repo1 και δεδομένου ότι αυτό ακολουθεί την
παραπάνω δομή, θα πρέπει να τυπώνει στην τυπική έξοδο (stdout): <br>

```
repo1 :
Number of directories : 1
Number of txt files : 3
Number of other files : 0
``` 
<br>
Τέλος, θα πρέπει να ελέγχει αν ο κατάλογος more και τα αρχεία dataA.txt, dataB.txt
και dataC.txt βρίσκονται στις σωστές τοποθεσίες και με ακριβώς τις σωστές ονομασίες.
Αν όλα είναι εντάξει, τότε θα τυπώνει στην τυπική έξοδο (stdout): <br>

```
Directory structure is OK.
Σε αντίθετη περίπτωση θα πρέπει να τυπώνει στην έξοδο σφαλμάτων (stderr):
Directory structure is NOT OK.
```
<br>
Ένα ολοκληρωμένο παράδειγμα εξόδου, για τρία αποθετήρια, το ένα εκ των οποίων δεν
μπορεί αν κλωνοποιηθεί σωστά, ενώ μόνο το πρώτο από τα άλλα δύο έχει τη σωστή δομή,
είναι το παρακάτω: <br>

```
https :// github .com/ username1 /repo1 .git: Cloning OK
https :// github .com/ username2 /repo2 .git: Cloning FAILED
https :// github .com/ username3 /repo3 .git: Cloning OK
repo1 :
Number of directories : 1
Number of txt files : 3
Number of other files : 0
Directory structure is OK.
repo3 :
Number of directories : 1
Number of txt files : 2
Number of other files : 2
Directory structure is NOT OK.
```
<br>

### Παραδοχές που μπορούν να γίνουν:
* Δεν υπάρχουν συγκρούσεις όσον αφορά στα ονόματα των αποθετηρίων git. Κάθε απο-
θετήριο διαθέτει μοναδική ονομασία.
* Τα αρχεία και κατάλογοι δεν περιέχουν πουθενά στο όνομά τους τον κενό χαρακτήρα.
* Τα αποθετήρια git είναι όλα σε https μορφή.